{"ast":null,"code":"import { TYPES } from \"./actions\";\nexport const carritoInitialState = {\n  products: [],\n  carrito: []\n};\nexport function carritoReducer(state, action) {\n  switch (action.type) {\n    case TYPES.READ_STATE:\n      {\n        return {\n          ...state,\n          products: action.payload[0],\n          carrito: action.payload[1]\n        };\n      }\n    case TYPES.ADD_SHOES:\n      {\n        let nuevoItem = state.products.find(producto => producto.id === action.payload);\n        //console.log(nuevoItem);\n        //console.log({carrito: [...state.carrito, nuevoItem]});\n        let itemEnCarrito = state.carrito.find(item => item.id === action.payload);\n        return itemEnCarrito ? {\n          ...state,\n          carrito: state.carrito.map(item => item.id === nuevoItem.id ? {\n            ...item,\n            cantidad: item.cantidad + 1\n          } : item)\n        } : {\n          ...state,\n          carrito: [...state.carrito, nuevoItem]\n        };\n      }\n    case TYPES.REMOVE_SHOES:\n      {\n        let itemAEliminar = state.carrito.find(item => item.id === action.payload);\n        return itemAEliminar.cantidad > 1 ? {\n          ...state,\n          carrito: state.carrito.map(item => item.id === action.payload ? {\n            ...item,\n            cantidad: item.cantidad - 1\n          } : item)\n        } : {\n          ...state,\n          carrito: state.carrito.filter(item => item.id !== action.payload)\n        };\n      }\n    case TYPES.REMOVE_ALL:\n      {\n        let itemAEliminar = state.carrito.find(item => item.id === action.payload);\n        return {\n          ...state,\n          carrito: state.carrito.filter(item => item.id !== action.payload)\n        };\n      }\n    case TYPES.FLUSH_CART:\n      {}\n    default:\n      return state;\n  }\n}\n;","map":{"version":3,"names":["TYPES","carritoInitialState","products","carrito","carritoReducer","state","action","type","READ_STATE","payload","ADD_SHOES","nuevoItem","find","producto","id","itemEnCarrito","item","map","cantidad","REMOVE_SHOES","itemAEliminar","filter","REMOVE_ALL","FLUSH_CART"],"sources":["C:/Users/Santiago/Desktop/Numen-React/src/components/reducer.js"],"sourcesContent":["import { TYPES } from \"./actions\";\r\n\r\nexport const carritoInitialState = {\r\n    products: [],\r\n    carrito: [],\r\n}\r\n\r\nexport function carritoReducer(state, action) {\r\n    switch (action.type) {\r\n      case TYPES.READ_STATE: {\r\n        return {\r\n            ...state,\r\n            products: action.payload[0],\r\n            carrito: action.payload[1],\r\n        }\r\n      }\r\n      case TYPES.ADD_SHOES: {\r\n        let nuevoItem = state.products.find(\r\n          (producto) => producto.id === action.payload\r\n        );\r\n        //console.log(nuevoItem);\r\n        //console.log({carrito: [...state.carrito, nuevoItem]});\r\n        let itemEnCarrito = state.carrito.find(\r\n          (item) => item.id === action.payload\r\n        );\r\n  \r\n        return itemEnCarrito\r\n          ? {\r\n              ...state,\r\n              carrito: state.carrito.map((item) =>\r\n                item.id === nuevoItem.id\r\n                  ? {\r\n                      ...item,\r\n                      cantidad: item.cantidad + 1,\r\n                    }\r\n                  : item\r\n              ),\r\n            }\r\n          : {\r\n              ...state,\r\n              carrito: [...state.carrito, nuevoItem],\r\n            };\r\n      }\r\n      case TYPES.REMOVE_SHOES: {\r\n        let itemAEliminar = state.carrito.find(item => item.id === action.payload);\r\n        return itemAEliminar.cantidad > 1 ? {\r\n          ...state,\r\n          carrito: state.carrito.map(item => item.id === action.payload ? {...item, cantidad: item.cantidad - 1} : item)\r\n        } : {\r\n          ...state,\r\n          carrito: state.carrito.filter((item) => item.id !== action.payload)\r\n        } \r\n      }\r\n      case TYPES.REMOVE_ALL: {\r\n        let itemAEliminar = state.carrito.find(item => item.id === action.payload);\r\n        return {\r\n          ...state,\r\n          carrito: state.carrito.filter((item) => item.id !== action.payload)\r\n        }\r\n      }\r\n      case TYPES.FLUSH_CART: {\r\n      }\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,WAAW;AAEjC,OAAO,MAAMC,mBAAmB,GAAG;EAC/BC,QAAQ,EAAE,EAAE;EACZC,OAAO,EAAE;AACb,CAAC;AAED,OAAO,SAASC,cAAc,CAACC,KAAK,EAAEC,MAAM,EAAE;EAC1C,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKP,KAAK,CAACQ,UAAU;MAAE;QACrB,OAAO;UACH,GAAGH,KAAK;UACRH,QAAQ,EAAEI,MAAM,CAACG,OAAO,CAAC,CAAC,CAAC;UAC3BN,OAAO,EAAEG,MAAM,CAACG,OAAO,CAAC,CAAC;QAC7B,CAAC;MACH;IACA,KAAKT,KAAK,CAACU,SAAS;MAAE;QACpB,IAAIC,SAAS,GAAGN,KAAK,CAACH,QAAQ,CAACU,IAAI,CAChCC,QAAQ,IAAKA,QAAQ,CAACC,EAAE,KAAKR,MAAM,CAACG,OAAO,CAC7C;QACD;QACA;QACA,IAAIM,aAAa,GAAGV,KAAK,CAACF,OAAO,CAACS,IAAI,CACnCI,IAAI,IAAKA,IAAI,CAACF,EAAE,KAAKR,MAAM,CAACG,OAAO,CACrC;QAED,OAAOM,aAAa,GAChB;UACE,GAAGV,KAAK;UACRF,OAAO,EAAEE,KAAK,CAACF,OAAO,CAACc,GAAG,CAAED,IAAI,IAC9BA,IAAI,CAACF,EAAE,KAAKH,SAAS,CAACG,EAAE,GACpB;YACE,GAAGE,IAAI;YACPE,QAAQ,EAAEF,IAAI,CAACE,QAAQ,GAAG;UAC5B,CAAC,GACDF,IAAI;QAEZ,CAAC,GACD;UACE,GAAGX,KAAK;UACRF,OAAO,EAAE,CAAC,GAAGE,KAAK,CAACF,OAAO,EAAEQ,SAAS;QACvC,CAAC;MACP;IACA,KAAKX,KAAK,CAACmB,YAAY;MAAE;QACvB,IAAIC,aAAa,GAAGf,KAAK,CAACF,OAAO,CAACS,IAAI,CAACI,IAAI,IAAIA,IAAI,CAACF,EAAE,KAAKR,MAAM,CAACG,OAAO,CAAC;QAC1E,OAAOW,aAAa,CAACF,QAAQ,GAAG,CAAC,GAAG;UAClC,GAAGb,KAAK;UACRF,OAAO,EAAEE,KAAK,CAACF,OAAO,CAACc,GAAG,CAACD,IAAI,IAAIA,IAAI,CAACF,EAAE,KAAKR,MAAM,CAACG,OAAO,GAAG;YAAC,GAAGO,IAAI;YAAEE,QAAQ,EAAEF,IAAI,CAACE,QAAQ,GAAG;UAAC,CAAC,GAAGF,IAAI;QAC/G,CAAC,GAAG;UACF,GAAGX,KAAK;UACRF,OAAO,EAAEE,KAAK,CAACF,OAAO,CAACkB,MAAM,CAAEL,IAAI,IAAKA,IAAI,CAACF,EAAE,KAAKR,MAAM,CAACG,OAAO;QACpE,CAAC;MACH;IACA,KAAKT,KAAK,CAACsB,UAAU;MAAE;QACrB,IAAIF,aAAa,GAAGf,KAAK,CAACF,OAAO,CAACS,IAAI,CAACI,IAAI,IAAIA,IAAI,CAACF,EAAE,KAAKR,MAAM,CAACG,OAAO,CAAC;QAC1E,OAAO;UACL,GAAGJ,KAAK;UACRF,OAAO,EAAEE,KAAK,CAACF,OAAO,CAACkB,MAAM,CAAEL,IAAI,IAAKA,IAAI,CAACF,EAAE,KAAKR,MAAM,CAACG,OAAO;QACpE,CAAC;MACH;IACA,KAAKT,KAAK,CAACuB,UAAU;MAAE,CACvB;IACA;MACE,OAAOlB,KAAK;EAAC;AAEnB;AAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}